{"id":"node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","dependencies":[{"name":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js.map","includedInParent":true,"mtime":1682941423451},{"name":"/home/agevi/chui Organisation/pennify-aragon/package.json","includedInParent":true,"mtime":1682968105152},{"name":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/package.json","includedInParent":true,"mtime":1682941423451},{"name":"babel-runtime/core-js/promise","loc":{"line":7,"column":23,"index":104},"parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/babel-runtime/core-js/promise.js"},{"name":"babel-runtime/helpers/typeof","loc":{"line":11,"column":23,"index":213},"parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/babel-runtime/helpers/typeof.js"},{"name":"babel-runtime/core-js/object/get-prototype-of","loc":{"line":15,"column":30,"index":327},"parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/babel-runtime/core-js/object/get-prototype-of.js"},{"name":"babel-runtime/regenerator","loc":{"line":19,"column":27,"index":470},"parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/babel-runtime/regenerator/index.js"},{"name":"babel-runtime/helpers/asyncToGenerator","loc":{"line":23,"column":33,"index":593},"parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/babel-runtime/helpers/asyncToGenerator.js"},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":27,"column":31,"index":738},"parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/babel-runtime/helpers/classCallCheck.js"},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":31,"column":42,"index":888},"parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"},{"name":"babel-runtime/helpers/createClass","loc":{"line":35,"column":28,"index":1057},"parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/babel-runtime/helpers/createClass.js"},{"name":"babel-runtime/helpers/inherits","loc":{"line":39,"column":25,"index":1181},"parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/babel-runtime/helpers/inherits.js"},{"name":"u2f-api","loc":{"line":43,"column":22,"index":1293},"parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/u2f-api/index.js"},{"name":"@ledgerhq/hw-transport","loc":{"line":45,"column":27,"index":1333},"parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport/lib/Transport.js"},{"name":"buffer","parent":"/home/agevi/chui Organisation/pennify-aragon/node_modules/@ledgerhq/hw-transport-u2f/lib/TransportU2F.js","resolved":"/home/agevi/chui Organisation/pennify-aragon/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _u2fApi = require(\"u2f-api\");\n\nvar _hwTransport = require(\"@ledgerhq/hw-transport\");\n\nvar _hwTransport2 = _interopRequireDefault(_hwTransport);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction wrapU2FTransportError(originalError, message, id) {\n  var err = new _hwTransport.TransportError(message, id);\n  // $FlowFixMe\n  err.originalError = originalError;\n  return err;\n}\n\nfunction wrapApdu(apdu, key) {\n  var result = Buffer.alloc(apdu.length);\n  for (var i = 0; i < apdu.length; i++) {\n    result[i] = apdu[i] ^ key[i % key.length];\n  }\n  return result;\n}\n\n// Convert from normal to web-safe, strip trailing \"=\"s\nvar webSafe64 = function webSafe64(base64) {\n  return base64.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n};\n\n// Convert from web-safe to normal, add trailing \"=\"s\nvar normal64 = function normal64(base64) {\n  return base64.replace(/-/g, \"+\").replace(/_/g, \"/\") + \"==\".substring(0, 3 * base64.length % 4);\n};\n\nfunction attemptExchange(apdu, timeoutMillis, debug, scrambleKey) {\n  var keyHandle = wrapApdu(apdu, scrambleKey);\n  var challenge = Buffer.from(\"0000000000000000000000000000000000000000000000000000000000000000\", \"hex\");\n  var signRequest = {\n    version: \"U2F_V2\",\n    keyHandle: webSafe64(keyHandle.toString(\"base64\")),\n    challenge: webSafe64(challenge.toString(\"base64\")),\n    appId: location.origin\n  };\n  if (debug) {\n    debug(\"=> \" + apdu.toString(\"hex\"));\n  }\n  return (0, _u2fApi.sign)(signRequest, timeoutMillis / 1000).then(function (response) {\n    var signatureData = response.signatureData;\n\n    if (typeof signatureData === \"string\") {\n      var data = Buffer.from(normal64(signatureData), \"base64\");\n      var result = data.slice(5);\n      if (debug) {\n        debug(\"<= \" + result.toString(\"hex\"));\n      }\n      return result;\n    } else {\n      throw response;\n    }\n  });\n}\n\nvar transportInstances = [];\n\nfunction emitDisconnect() {\n  transportInstances.forEach(function (t) {\n    return t.emit(\"disconnect\");\n  });\n  transportInstances = [];\n}\n\nfunction isTimeoutU2FError(u2fError) {\n  return u2fError.metaData.code === 5;\n}\n\n/**\n * U2F web Transport implementation\n * @example\n * import TransportU2F from \"@ledgerhq/hw-transport-u2f\";\n * ...\n * TransportU2F.create().then(transport => ...)\n */\n\nvar TransportU2F = function (_Transport) {\n  (0, _inherits3.default)(TransportU2F, _Transport);\n  (0, _createClass3.default)(TransportU2F, null, [{\n    key: \"open\",\n\n\n    /**\n     * static function to create a new Transport from a connected Ledger device discoverable via U2F (browser support)\n     */\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(_) {\n        var _openTimeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5000;\n\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new TransportU2F());\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function open(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return open;\n    }()\n\n    // this transport is not discoverable but we are going to guess if it is here with isSupported()\n\n  }]);\n\n  function TransportU2F() {\n    (0, _classCallCheck3.default)(this, TransportU2F);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (TransportU2F.__proto__ || (0, _getPrototypeOf2.default)(TransportU2F)).call(this));\n\n    transportInstances.push(_this);\n    return _this;\n  }\n\n  (0, _createClass3.default)(TransportU2F, [{\n    key: \"exchange\",\n    value: function () {\n      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(apdu) {\n        var isU2FError;\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return attemptExchange(apdu, this.exchangeTimeout, this.debug, this.scrambleKey);\n\n              case 3:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 6:\n                _context2.prev = 6;\n                _context2.t0 = _context2[\"catch\"](0);\n                isU2FError = (0, _typeof3.default)(_context2.t0.metaData) === \"object\";\n\n                if (!isU2FError) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                if (isTimeoutU2FError(_context2.t0)) {\n                  emitDisconnect();\n                }\n                // the wrapping make error more usable and \"printable\" to the end user.\n                throw wrapU2FTransportError(_context2.t0, \"Failed to sign with Ledger device: U2F \" + _context2.t0.metaData.type, \"U2F_\" + _context2.t0.metaData.code);\n\n              case 14:\n                throw _context2.t0;\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 6]]);\n      }));\n\n      function exchange(_x3) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return exchange;\n    }()\n  }, {\n    key: \"setScrambleKey\",\n    value: function setScrambleKey(scrambleKey) {\n      this.scrambleKey = Buffer.from(scrambleKey, \"ascii\");\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var i = transportInstances.indexOf(this);\n      if (i === -1) {\n        throw new Error(\"invalid transport instance\");\n      }\n      transportInstances.splice(i, 1);\n      return _promise2.default.resolve();\n    }\n  }]);\n  return TransportU2F;\n}(_hwTransport2.default);\n\nTransportU2F.isSupported = _u2fApi.isSupported;\n\nTransportU2F.list = function () {\n  return (0, _u2fApi.isSupported)().then(function (supported) {\n    return supported ? [null] : [];\n  });\n};\n\nTransportU2F.listen = function (observer) {\n  var unsubscribed = false;\n  (0, _u2fApi.isSupported)().then(function (supported) {\n    if (unsubscribed) return;\n    if (supported) {\n      observer.next({ type: \"add\", descriptor: null });\n      observer.complete();\n    } else {\n      observer.error(new _hwTransport.TransportError(\"U2F browser support is needed for Ledger. \" + \"Please use Chrome, Opera or Firefox with a U2F extension. \" + \"Also make sure you're on an HTTPS connection\", \"U2FNotSupported\"));\n    }\n  });\n  return {\n    unsubscribe: function unsubscribe() {\n      unsubscribed = true;\n    }\n  };\n};\n\nexports.default = TransportU2F;\n"},"sourceMaps":{"js":{"mappings":[{"source":"../src/TransportU2F.js","name":null,"original":{"line":3,"column":0},"generated":{"line":44,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":4,"column":0},"generated":{"line":46,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":6,"column":0},"generated":{"line":52,"column":0}},{"source":"../src/TransportU2F.js","name":"wrapU2FTransportError","original":{"line":6,"column":9},"generated":{"line":52,"column":9}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":6,"column":0},"generated":{"line":52,"column":30}},{"source":"../src/TransportU2F.js","name":"originalError","original":{"line":6,"column":31},"generated":{"line":52,"column":31}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":6,"column":0},"generated":{"line":52,"column":44}},{"source":"../src/TransportU2F.js","name":"message","original":{"line":6,"column":46},"generated":{"line":52,"column":46}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":6,"column":0},"generated":{"line":52,"column":53}},{"source":"../src/TransportU2F.js","name":"id","original":{"line":6,"column":55},"generated":{"line":52,"column":55}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":6,"column":0},"generated":{"line":52,"column":57}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":6,"column":59},"generated":{"line":52,"column":59}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":7,"column":2},"generated":{"line":53,"column":0}},{"source":"../src/TransportU2F.js","name":"err","original":{"line":7,"column":8},"generated":{"line":53,"column":6}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":7,"column":14},"generated":{"line":53,"column":12}},{"source":"../src/TransportU2F.js","name":"message","original":{"line":7,"column":33},"generated":{"line":53,"column":44}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":7,"column":14},"generated":{"line":53,"column":51}},{"source":"../src/TransportU2F.js","name":"id","original":{"line":7,"column":42},"generated":{"line":53,"column":53}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":7,"column":14},"generated":{"line":53,"column":55}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":7,"column":2},"generated":{"line":53,"column":56}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":8,"column":2},"generated":{"line":54,"column":0}},{"source":"../src/TransportU2F.js","name":"err","original":{"line":9,"column":2},"generated":{"line":55,"column":0}},{"source":"../src/TransportU2F.js","name":"originalError","original":{"line":9,"column":6},"generated":{"line":55,"column":6}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":9,"column":2},"generated":{"line":55,"column":19}},{"source":"../src/TransportU2F.js","name":"originalError","original":{"line":9,"column":22},"generated":{"line":55,"column":22}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":9,"column":2},"generated":{"line":55,"column":35}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":10,"column":2},"generated":{"line":56,"column":0}},{"source":"../src/TransportU2F.js","name":"err","original":{"line":10,"column":9},"generated":{"line":56,"column":9}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":10,"column":2},"generated":{"line":56,"column":12}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":11,"column":1},"generated":{"line":57,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":13,"column":0},"generated":{"line":59,"column":0}},{"source":"../src/TransportU2F.js","name":"wrapApdu","original":{"line":13,"column":9},"generated":{"line":59,"column":9}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":13,"column":0},"generated":{"line":59,"column":17}},{"source":"../src/TransportU2F.js","name":"apdu","original":{"line":13,"column":18},"generated":{"line":59,"column":18}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":13,"column":0},"generated":{"line":59,"column":22}},{"source":"../src/TransportU2F.js","name":"key","original":{"line":13,"column":32},"generated":{"line":59,"column":24}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":13,"column":0},"generated":{"line":59,"column":27}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":13,"column":45},"generated":{"line":59,"column":29}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":14,"column":2},"generated":{"line":60,"column":0}},{"source":"../src/TransportU2F.js","name":"result","original":{"line":14,"column":8},"generated":{"line":60,"column":6}},{"source":"../src/TransportU2F.js","name":"Buffer","original":{"line":14,"column":17},"generated":{"line":60,"column":15}},{"source":"../src/TransportU2F.js","name":"alloc","original":{"line":14,"column":24},"generated":{"line":60,"column":22}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":14,"column":17},"generated":{"line":60,"column":27}},{"source":"../src/TransportU2F.js","name":"apdu","original":{"line":14,"column":30},"generated":{"line":60,"column":28}},{"source":"../src/TransportU2F.js","name":"length","original":{"line":14,"column":35},"generated":{"line":60,"column":33}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":14,"column":17},"generated":{"line":60,"column":39}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":14,"column":2},"generated":{"line":60,"column":40}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":15,"column":2},"generated":{"line":61,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":15,"column":7},"generated":{"line":61,"column":7}},{"source":"../src/TransportU2F.js","name":"i","original":{"line":15,"column":11},"generated":{"line":61,"column":11}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":15,"column":15},"generated":{"line":61,"column":15}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":15,"column":2},"generated":{"line":61,"column":16}},{"source":"../src/TransportU2F.js","name":"i","original":{"line":15,"column":18},"generated":{"line":61,"column":18}},{"source":"../src/TransportU2F.js","name":"apdu","original":{"line":15,"column":22},"generated":{"line":61,"column":22}},{"source":"../src/TransportU2F.js","name":"length","original":{"line":15,"column":27},"generated":{"line":61,"column":27}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":15,"column":2},"generated":{"line":61,"column":33}},{"source":"../src/TransportU2F.js","name":"i","original":{"line":15,"column":35},"generated":{"line":61,"column":35}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":15,"column":2},"generated":{"line":61,"column":38}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":15,"column":40},"generated":{"line":61,"column":40}},{"source":"../src/TransportU2F.js","name":"result","original":{"line":16,"column":4},"generated":{"line":62,"column":0}},{"source":"../src/TransportU2F.js","name":"i","original":{"line":16,"column":11},"generated":{"line":62,"column":11}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":16,"column":4},"generated":{"line":62,"column":12}},{"source":"../src/TransportU2F.js","name":"apdu","original":{"line":16,"column":16},"generated":{"line":62,"column":16}},{"source":"../src/TransportU2F.js","name":"i","original":{"line":16,"column":21},"generated":{"line":62,"column":21}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":16,"column":16},"generated":{"line":62,"column":22}},{"source":"../src/TransportU2F.js","name":"key","original":{"line":16,"column":26},"generated":{"line":62,"column":26}},{"source":"../src/TransportU2F.js","name":"i","original":{"line":16,"column":30},"generated":{"line":62,"column":30}},{"source":"../src/TransportU2F.js","name":"key","original":{"line":16,"column":34},"generated":{"line":62,"column":34}},{"source":"../src/TransportU2F.js","name":"length","original":{"line":16,"column":38},"generated":{"line":62,"column":38}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":16,"column":26},"generated":{"line":62,"column":44}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":16,"column":4},"generated":{"line":62,"column":45}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":17,"column":3},"generated":{"line":63,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":18,"column":2},"generated":{"line":64,"column":0}},{"source":"../src/TransportU2F.js","name":"result","original":{"line":18,"column":9},"generated":{"line":64,"column":9}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":18,"column":2},"generated":{"line":64,"column":15}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":19,"column":1},"generated":{"line":65,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":21,"column":0},"generated":{"line":67,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":22,"column":0},"generated":{"line":68,"column":0}},{"source":"../src/TransportU2F.js","name":"webSafe64","original":{"line":22,"column":6},"generated":{"line":68,"column":4}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":22,"column":18},"generated":{"line":68,"column":16}},{"source":"../src/TransportU2F.js","name":"webSafe64","original":{"line":22,"column":6},"generated":{"line":68,"column":25}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":22,"column":18},"generated":{"line":68,"column":34}},{"source":"../src/TransportU2F.js","name":"base64","original":{"line":22,"column":19},"generated":{"line":68,"column":35}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":22,"column":18},"generated":{"line":68,"column":41}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":22,"column":18},"generated":{"line":69,"column":0}},{"source":"../src/TransportU2F.js","name":"base64","original":{"line":23,"column":2},"generated":{"line":69,"column":9}},{"source":"../src/TransportU2F.js","name":"replace","original":{"line":24,"column":5},"generated":{"line":69,"column":16}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":23,"column":2},"generated":{"line":69,"column":23}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":24,"column":13},"generated":{"line":69,"column":24}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":23,"column":2},"generated":{"line":69,"column":29}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":24,"column":20},"generated":{"line":69,"column":31}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":23,"column":2},"generated":{"line":69,"column":34}},{"source":"../src/TransportU2F.js","name":"replace","original":{"line":25,"column":5},"generated":{"line":69,"column":36}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":23,"column":2},"generated":{"line":69,"column":43}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":25,"column":13},"generated":{"line":69,"column":44}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":23,"column":2},"generated":{"line":69,"column":49}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":25,"column":20},"generated":{"line":69,"column":51}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":23,"column":2},"generated":{"line":69,"column":54}},{"source":"../src/TransportU2F.js","name":"replace","original":{"line":26,"column":5},"generated":{"line":69,"column":56}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":23,"column":2},"generated":{"line":69,"column":63}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":26,"column":13},"generated":{"line":69,"column":64}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":23,"column":2},"generated":{"line":69,"column":69}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":26,"column":20},"generated":{"line":69,"column":71}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":23,"column":2},"generated":{"line":69,"column":73}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":22,"column":18},"generated":{"line":69,"column":74}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":22,"column":18},"generated":{"line":70,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":22,"column":0},"generated":{"line":70,"column":1}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":28,"column":0},"generated":{"line":72,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":29,"column":0},"generated":{"line":73,"column":0}},{"source":"../src/TransportU2F.js","name":"normal64","original":{"line":29,"column":6},"generated":{"line":73,"column":4}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":29,"column":17},"generated":{"line":73,"column":15}},{"source":"../src/TransportU2F.js","name":"normal64","original":{"line":29,"column":6},"generated":{"line":73,"column":24}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":29,"column":17},"generated":{"line":73,"column":32}},{"source":"../src/TransportU2F.js","name":"base64","original":{"line":29,"column":18},"generated":{"line":73,"column":33}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":29,"column":17},"generated":{"line":73,"column":39}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":29,"column":17},"generated":{"line":74,"column":0}},{"source":"../src/TransportU2F.js","name":"base64","original":{"line":30,"column":2},"generated":{"line":74,"column":9}},{"source":"../src/TransportU2F.js","name":"replace","original":{"line":30,"column":9},"generated":{"line":74,"column":16}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":30,"column":2},"generated":{"line":74,"column":23}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":30,"column":17},"generated":{"line":74,"column":24}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":30,"column":2},"generated":{"line":74,"column":28}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":30,"column":23},"generated":{"line":74,"column":30}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":30,"column":2},"generated":{"line":74,"column":33}},{"source":"../src/TransportU2F.js","name":"replace","original":{"line":30,"column":28},"generated":{"line":74,"column":35}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":30,"column":2},"generated":{"line":74,"column":42}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":30,"column":36},"generated":{"line":74,"column":43}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":30,"column":2},"generated":{"line":74,"column":47}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":30,"column":42},"generated":{"line":74,"column":49}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":30,"column":2},"generated":{"line":74,"column":52}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":31,"column":2},"generated":{"line":74,"column":56}},{"source":"../src/TransportU2F.js","name":"substring","original":{"line":31,"column":7},"generated":{"line":74,"column":61}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":31,"column":2},"generated":{"line":74,"column":70}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":31,"column":17},"generated":{"line":74,"column":71}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":31,"column":2},"generated":{"line":74,"column":72}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":31,"column":21},"generated":{"line":74,"column":74}},{"source":"../src/TransportU2F.js","name":"base64","original":{"line":31,"column":25},"generated":{"line":74,"column":78}},{"source":"../src/TransportU2F.js","name":"length","original":{"line":31,"column":32},"generated":{"line":74,"column":85}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":31,"column":20},"generated":{"line":74,"column":91}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":31,"column":42},"generated":{"line":74,"column":94}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":31,"column":2},"generated":{"line":74,"column":95}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":29,"column":17},"generated":{"line":74,"column":96}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":29,"column":17},"generated":{"line":75,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":29,"column":0},"generated":{"line":75,"column":1}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":33,"column":0},"generated":{"line":77,"column":0}},{"source":"../src/TransportU2F.js","name":"attemptExchange","original":{"line":33,"column":9},"generated":{"line":77,"column":9}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":33,"column":0},"generated":{"line":77,"column":24}},{"source":"../src/TransportU2F.js","name":"apdu","original":{"line":34,"column":2},"generated":{"line":77,"column":25}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":33,"column":0},"generated":{"line":77,"column":29}},{"source":"../src/TransportU2F.js","name":"timeoutMillis","original":{"line":35,"column":2},"generated":{"line":77,"column":31}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":33,"column":0},"generated":{"line":77,"column":44}},{"source":"../src/TransportU2F.js","name":"debug","original":{"line":36,"column":2},"generated":{"line":77,"column":46}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":33,"column":0},"generated":{"line":77,"column":51}},{"source":"../src/TransportU2F.js","name":"scrambleKey","original":{"line":37,"column":2},"generated":{"line":77,"column":53}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":33,"column":0},"generated":{"line":77,"column":64}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":38,"column":19},"generated":{"line":77,"column":66}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":39,"column":2},"generated":{"line":78,"column":0}},{"source":"../src/TransportU2F.js","name":"keyHandle","original":{"line":39,"column":8},"generated":{"line":78,"column":6}},{"source":"../src/TransportU2F.js","name":"wrapApdu","original":{"line":39,"column":20},"generated":{"line":78,"column":18}},{"source":"../src/TransportU2F.js","name":"apdu","original":{"line":39,"column":29},"generated":{"line":78,"column":27}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":39,"column":20},"generated":{"line":78,"column":31}},{"source":"../src/TransportU2F.js","name":"scrambleKey","original":{"line":39,"column":35},"generated":{"line":78,"column":33}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":39,"column":20},"generated":{"line":78,"column":44}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":39,"column":2},"generated":{"line":78,"column":45}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":40,"column":2},"generated":{"line":79,"column":0}},{"source":"../src/TransportU2F.js","name":"challenge","original":{"line":40,"column":8},"generated":{"line":79,"column":6}},{"source":"../src/TransportU2F.js","name":"Buffer","original":{"line":40,"column":20},"generated":{"line":79,"column":18}},{"source":"../src/TransportU2F.js","name":"from","original":{"line":40,"column":27},"generated":{"line":79,"column":25}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":40,"column":20},"generated":{"line":79,"column":29}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":41,"column":4},"generated":{"line":79,"column":30}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":40,"column":20},"generated":{"line":79,"column":96}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":42,"column":4},"generated":{"line":79,"column":98}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":40,"column":20},"generated":{"line":79,"column":103}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":40,"column":2},"generated":{"line":79,"column":104}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":44,"column":2},"generated":{"line":80,"column":0}},{"source":"../src/TransportU2F.js","name":"signRequest","original":{"line":44,"column":8},"generated":{"line":80,"column":6}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":44,"column":22},"generated":{"line":80,"column":20}},{"source":"../src/TransportU2F.js","name":"version","original":{"line":45,"column":4},"generated":{"line":81,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":45,"column":13},"generated":{"line":81,"column":13}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":44,"column":22},"generated":{"line":81,"column":21}},{"source":"../src/TransportU2F.js","name":"keyHandle","original":{"line":46,"column":4},"generated":{"line":82,"column":0}},{"source":"../src/TransportU2F.js","name":"webSafe64","original":{"line":46,"column":15},"generated":{"line":82,"column":15}},{"source":"../src/TransportU2F.js","name":"keyHandle","original":{"line":46,"column":25},"generated":{"line":82,"column":25}},{"source":"../src/TransportU2F.js","name":"toString","original":{"line":46,"column":35},"generated":{"line":82,"column":35}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":46,"column":25},"generated":{"line":82,"column":43}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":46,"column":44},"generated":{"line":82,"column":44}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":46,"column":25},"generated":{"line":82,"column":52}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":46,"column":15},"generated":{"line":82,"column":53}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":44,"column":22},"generated":{"line":82,"column":54}},{"source":"../src/TransportU2F.js","name":"challenge","original":{"line":47,"column":4},"generated":{"line":83,"column":0}},{"source":"../src/TransportU2F.js","name":"webSafe64","original":{"line":47,"column":15},"generated":{"line":83,"column":15}},{"source":"../src/TransportU2F.js","name":"challenge","original":{"line":47,"column":25},"generated":{"line":83,"column":25}},{"source":"../src/TransportU2F.js","name":"toString","original":{"line":47,"column":35},"generated":{"line":83,"column":35}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":47,"column":25},"generated":{"line":83,"column":43}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":47,"column":44},"generated":{"line":83,"column":44}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":47,"column":25},"generated":{"line":83,"column":52}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":47,"column":15},"generated":{"line":83,"column":53}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":44,"column":22},"generated":{"line":83,"column":54}},{"source":"../src/TransportU2F.js","name":"appId","original":{"line":48,"column":4},"generated":{"line":84,"column":0}},{"source":"../src/TransportU2F.js","name":"location","original":{"line":48,"column":11},"generated":{"line":84,"column":11}},{"source":"../src/TransportU2F.js","name":"origin","original":{"line":48,"column":20},"generated":{"line":84,"column":20}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":44,"column":22},"generated":{"line":85,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":44,"column":2},"generated":{"line":85,"column":3}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":50,"column":2},"generated":{"line":86,"column":0}},{"source":"../src/TransportU2F.js","name":"debug","original":{"line":50,"column":6},"generated":{"line":86,"column":6}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":50,"column":2},"generated":{"line":86,"column":11}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":50,"column":13},"generated":{"line":86,"column":13}},{"source":"../src/TransportU2F.js","name":"debug","original":{"line":51,"column":4},"generated":{"line":87,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":51,"column":10},"generated":{"line":87,"column":10}},{"source":"../src/TransportU2F.js","name":"apdu","original":{"line":51,"column":18},"generated":{"line":87,"column":18}},{"source":"../src/TransportU2F.js","name":"toString","original":{"line":51,"column":23},"generated":{"line":87,"column":23}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":51,"column":18},"generated":{"line":87,"column":31}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":51,"column":32},"generated":{"line":87,"column":32}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":51,"column":18},"generated":{"line":87,"column":37}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":51,"column":4},"generated":{"line":87,"column":38}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":52,"column":3},"generated":{"line":88,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":2},"generated":{"line":89,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":9},"generated":{"line":89,"column":9}},{"source":"../src/TransportU2F.js","name":"signRequest","original":{"line":53,"column":14},"generated":{"line":89,"column":27}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":9},"generated":{"line":89,"column":38}},{"source":"../src/TransportU2F.js","name":"timeoutMillis","original":{"line":53,"column":27},"generated":{"line":89,"column":40}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":43},"generated":{"line":89,"column":56}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":9},"generated":{"line":89,"column":60}},{"source":"../src/TransportU2F.js","name":"then","original":{"line":53,"column":49},"generated":{"line":89,"column":62}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":9},"generated":{"line":89,"column":66}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":54},"generated":{"line":89,"column":67}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":66},"generated":{"line":89,"column":87}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":66},"generated":{"line":90,"column":0}},{"source":"../src/TransportU2F.js","name":"signatureData","original":{"line":54,"column":12},"generated":{"line":90,"column":8}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":66},"generated":{"line":90,"column":21}},{"source":"../src/TransportU2F.js","name":"response","original":{"line":54,"column":30},"generated":{"line":90,"column":24}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":66},"generated":{"line":90,"column":32}},{"source":"../src/TransportU2F.js","name":"signatureData","original":{"line":54,"column":12},"generated":{"line":90,"column":33}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":66},"generated":{"line":90,"column":46}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":55,"column":4},"generated":{"line":92,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":55,"column":8},"generated":{"line":92,"column":8}},{"source":"../src/TransportU2F.js","name":"signatureData","original":{"line":55,"column":15},"generated":{"line":92,"column":15}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":55,"column":8},"generated":{"line":92,"column":28}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":55,"column":33},"generated":{"line":92,"column":33}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":55,"column":4},"generated":{"line":92,"column":41}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":55,"column":43},"generated":{"line":92,"column":43}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":56,"column":6},"generated":{"line":93,"column":0}},{"source":"../src/TransportU2F.js","name":"data","original":{"line":56,"column":12},"generated":{"line":93,"column":10}},{"source":"../src/TransportU2F.js","name":"Buffer","original":{"line":56,"column":19},"generated":{"line":93,"column":17}},{"source":"../src/TransportU2F.js","name":"from","original":{"line":56,"column":26},"generated":{"line":93,"column":24}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":56,"column":19},"generated":{"line":93,"column":28}},{"source":"../src/TransportU2F.js","name":"normal64","original":{"line":56,"column":31},"generated":{"line":93,"column":29}},{"source":"../src/TransportU2F.js","name":"signatureData","original":{"line":56,"column":40},"generated":{"line":93,"column":38}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":56,"column":31},"generated":{"line":93,"column":51}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":56,"column":19},"generated":{"line":93,"column":52}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":56,"column":56},"generated":{"line":93,"column":54}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":56,"column":19},"generated":{"line":93,"column":62}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":56,"column":6},"generated":{"line":93,"column":63}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":57,"column":6},"generated":{"line":94,"column":0}},{"source":"../src/TransportU2F.js","name":"result","original":{"line":57,"column":12},"generated":{"line":94,"column":10}},{"source":"../src/TransportU2F.js","name":"data","original":{"line":57,"column":21},"generated":{"line":94,"column":19}},{"source":"../src/TransportU2F.js","name":"slice","original":{"line":57,"column":26},"generated":{"line":94,"column":24}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":57,"column":21},"generated":{"line":94,"column":29}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":57,"column":32},"generated":{"line":94,"column":30}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":57,"column":21},"generated":{"line":94,"column":31}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":57,"column":6},"generated":{"line":94,"column":32}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":58,"column":6},"generated":{"line":95,"column":0}},{"source":"../src/TransportU2F.js","name":"debug","original":{"line":58,"column":10},"generated":{"line":95,"column":10}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":58,"column":6},"generated":{"line":95,"column":15}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":58,"column":17},"generated":{"line":95,"column":17}},{"source":"../src/TransportU2F.js","name":"debug","original":{"line":59,"column":8},"generated":{"line":96,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":59,"column":14},"generated":{"line":96,"column":14}},{"source":"../src/TransportU2F.js","name":"result","original":{"line":59,"column":22},"generated":{"line":96,"column":22}},{"source":"../src/TransportU2F.js","name":"toString","original":{"line":59,"column":29},"generated":{"line":96,"column":29}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":59,"column":22},"generated":{"line":96,"column":37}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":59,"column":38},"generated":{"line":96,"column":38}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":59,"column":22},"generated":{"line":96,"column":43}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":59,"column":8},"generated":{"line":96,"column":44}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":60,"column":7},"generated":{"line":97,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":61,"column":6},"generated":{"line":98,"column":0}},{"source":"../src/TransportU2F.js","name":"result","original":{"line":61,"column":13},"generated":{"line":98,"column":13}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":61,"column":6},"generated":{"line":98,"column":19}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":62,"column":5},"generated":{"line":99,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":55,"column":4},"generated":{"line":99,"column":5}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":62,"column":11},"generated":{"line":99,"column":11}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":63,"column":6},"generated":{"line":100,"column":0}},{"source":"../src/TransportU2F.js","name":"response","original":{"line":63,"column":12},"generated":{"line":100,"column":12}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":63,"column":6},"generated":{"line":100,"column":20}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":64,"column":5},"generated":{"line":101,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":65,"column":3},"generated":{"line":102,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":9},"generated":{"line":102,"column":3}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":53,"column":2},"generated":{"line":102,"column":4}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":66,"column":1},"generated":{"line":103,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":68,"column":0},"generated":{"line":105,"column":0}},{"source":"../src/TransportU2F.js","name":"transportInstances","original":{"line":68,"column":4},"generated":{"line":105,"column":4}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":68,"column":25},"generated":{"line":105,"column":25}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":68,"column":0},"generated":{"line":105,"column":27}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":70,"column":0},"generated":{"line":107,"column":0}},{"source":"../src/TransportU2F.js","name":"emitDisconnect","original":{"line":70,"column":9},"generated":{"line":107,"column":9}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":70,"column":0},"generated":{"line":107,"column":23}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":70,"column":26},"generated":{"line":107,"column":26}},{"source":"../src/TransportU2F.js","name":"transportInstances","original":{"line":71,"column":2},"generated":{"line":108,"column":0}},{"source":"../src/TransportU2F.js","name":"forEach","original":{"line":71,"column":21},"generated":{"line":108,"column":21}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":71,"column":2},"generated":{"line":108,"column":28}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":71,"column":29},"generated":{"line":108,"column":29}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":71,"column":29},"generated":{"line":109,"column":0}},{"source":"../src/TransportU2F.js","name":"t","original":{"line":71,"column":34},"generated":{"line":109,"column":11}},{"source":"../src/TransportU2F.js","name":"emit","original":{"line":71,"column":36},"generated":{"line":109,"column":13}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":71,"column":34},"generated":{"line":109,"column":17}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":71,"column":41},"generated":{"line":109,"column":18}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":71,"column":34},"generated":{"line":109,"column":30}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":71,"column":29},"generated":{"line":109,"column":31}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":71,"column":29},"generated":{"line":110,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":71,"column":2},"generated":{"line":110,"column":3}},{"source":"../src/TransportU2F.js","name":"transportInstances","original":{"line":72,"column":2},"generated":{"line":111,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":72,"column":23},"generated":{"line":111,"column":23}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":72,"column":2},"generated":{"line":111,"column":25}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":73,"column":1},"generated":{"line":112,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":75,"column":0},"generated":{"line":114,"column":0}},{"source":"../src/TransportU2F.js","name":"isTimeoutU2FError","original":{"line":75,"column":9},"generated":{"line":114,"column":9}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":75,"column":0},"generated":{"line":114,"column":26}},{"source":"../src/TransportU2F.js","name":"u2fError","original":{"line":75,"column":27},"generated":{"line":114,"column":27}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":75,"column":0},"generated":{"line":114,"column":35}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":75,"column":37},"generated":{"line":114,"column":37}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":76,"column":2},"generated":{"line":115,"column":0}},{"source":"../src/TransportU2F.js","name":"u2fError","original":{"line":76,"column":9},"generated":{"line":115,"column":9}},{"source":"../src/TransportU2F.js","name":"metaData","original":{"line":76,"column":18},"generated":{"line":115,"column":18}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":76,"column":9},"generated":{"line":115,"column":26}},{"source":"../src/TransportU2F.js","name":"code","original":{"line":76,"column":27},"generated":{"line":115,"column":27}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":76,"column":9},"generated":{"line":115,"column":31}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":76,"column":36},"generated":{"line":115,"column":36}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":76,"column":2},"generated":{"line":115,"column":37}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":77,"column":1},"generated":{"line":116,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":79,"column":0},"generated":{"line":118,"column":0}},{"source":"../src/TransportU2F.js","name":"TransportU2F","original":{"line":86,"column":21},"generated":{"line":126,"column":4}},{"source":null,"name":null,"original":null,"generated":{"line":126,"column":16}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":120,"column":2},"generated":{"line":132,"column":0}},{"source":"../src/TransportU2F.js","name":"_","original":{"line":123,"column":20},"generated":{"line":136,"column":107}},{"source":null,"name":null,"original":null,"generated":{"line":136,"column":108}},{"source":"../src/TransportU2F.js","name":"_openTimeout","original":{"line":123,"column":26},"generated":{"line":137,"column":12}},{"source":null,"name":null,"original":null,"generated":{"line":137,"column":24}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":123,"column":50},"generated":{"line":137,"column":95}},{"source":null,"name":null,"original":null,"generated":{"line":137,"column":99}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":154,"column":11},"generated":{"line":143,"column":49}},{"source":"../src/TransportU2F.js","name":"TransportU2F","original":{"line":154,"column":15},"generated":{"line":143,"column":53}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":154,"column":11},"generated":{"line":143,"column":65}},{"source":null,"name":null,"original":null,"generated":{"line":143,"column":67}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":89,"column":2},"generated":{"line":160,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":157,"column":2},"generated":{"line":164,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":157,"column":16},"generated":{"line":164,"column":26}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":157,"column":16},"generated":{"line":165,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":157,"column":16},"generated":{"line":167,"column":0}},{"source":"../src/TransportU2F.js","name":"transportInstances","original":{"line":159,"column":4},"generated":{"line":169,"column":0}},{"source":"../src/TransportU2F.js","name":"push","original":{"line":159,"column":23},"generated":{"line":169,"column":23}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":159,"column":4},"generated":{"line":169,"column":27}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":157,"column":16},"generated":{"line":170,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":160,"column":3},"generated":{"line":171,"column":0}},{"source":"../src/TransportU2F.js","name":"apdu","original":{"line":162,"column":17},"generated":{"line":176,"column":109}},{"source":null,"name":null,"original":null,"generated":{"line":176,"column":113}},{"source":"../src/TransportU2F.js","name":"attemptExchange","original":{"line":164,"column":19},"generated":{"line":184,"column":23}},{"source":"../src/TransportU2F.js","name":"apdu","original":{"line":165,"column":8},"generated":{"line":184,"column":39}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":164,"column":19},"generated":{"line":184,"column":43}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":166,"column":8},"generated":{"line":184,"column":45}},{"source":"../src/TransportU2F.js","name":"exchangeTimeout","original":{"line":166,"column":13},"generated":{"line":184,"column":50}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":164,"column":19},"generated":{"line":184,"column":65}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":167,"column":8},"generated":{"line":184,"column":67}},{"source":"../src/TransportU2F.js","name":"debug","original":{"line":167,"column":13},"generated":{"line":184,"column":72}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":164,"column":19},"generated":{"line":184,"column":77}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":168,"column":8},"generated":{"line":184,"column":79}},{"source":"../src/TransportU2F.js","name":"scrambleKey","original":{"line":168,"column":13},"generated":{"line":184,"column":84}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":164,"column":19},"generated":{"line":184,"column":95}},{"source":null,"name":null,"original":null,"generated":{"line":184,"column":96}},{"source":"../src/TransportU2F.js","name":"isU2FError","original":{"line":171,"column":12},"generated":{"line":192,"column":0}},{"source":null,"name":null,"original":null,"generated":{"line":192,"column":26}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":171,"column":25},"generated":{"line":192,"column":29}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":171,"column":32},"generated":{"line":192,"column":51}},{"source":"../src/TransportU2F.js","name":"metaData","original":{"line":171,"column":34},"generated":{"line":192,"column":64}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":171,"column":25},"generated":{"line":192,"column":72}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":171,"column":47},"generated":{"line":192,"column":78}},{"source":null,"name":null,"original":null,"generated":{"line":192,"column":86}},{"source":"../src/TransportU2F.js","name":"isU2FError","original":{"line":172,"column":10},"generated":{"line":194,"column":21}},{"source":null,"name":null,"original":null,"generated":{"line":194,"column":31}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":173,"column":8},"generated":{"line":199,"column":0}},{"source":"../src/TransportU2F.js","name":"isTimeoutU2FError","original":{"line":173,"column":12},"generated":{"line":199,"column":20}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":173,"column":8},"generated":{"line":199,"column":51}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":173,"column":34},"generated":{"line":199,"column":53}},{"source":"../src/TransportU2F.js","name":"emitDisconnect","original":{"line":174,"column":10},"generated":{"line":200,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":175,"column":9},"generated":{"line":201,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":176,"column":8},"generated":{"line":202,"column":0}},{"source":"../src/TransportU2F.js","name":"wrapU2FTransportError","original":{"line":177,"column":14},"generated":{"line":203,"column":22}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":179,"column":10},"generated":{"line":203,"column":58}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":179,"column":54},"generated":{"line":203,"column":102}},{"source":"../src/TransportU2F.js","name":"metaData","original":{"line":179,"column":56},"generated":{"line":203,"column":115}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":179,"column":54},"generated":{"line":203,"column":123}},{"source":"../src/TransportU2F.js","name":"type","original":{"line":179,"column":65},"generated":{"line":203,"column":124}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":177,"column":14},"generated":{"line":203,"column":128}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":180,"column":10},"generated":{"line":203,"column":130}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":180,"column":19},"generated":{"line":203,"column":139}},{"source":"../src/TransportU2F.js","name":"metaData","original":{"line":180,"column":21},"generated":{"line":203,"column":152}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":180,"column":19},"generated":{"line":203,"column":160}},{"source":"../src/TransportU2F.js","name":"code","original":{"line":180,"column":30},"generated":{"line":203,"column":161}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":177,"column":14},"generated":{"line":203,"column":165}},{"source":null,"name":null,"original":null,"generated":{"line":203,"column":166}},{"source":"../src/TransportU2F.js","name":"scrambleKey","original":{"line":188,"column":17},"generated":{"line":224,"column":35}},{"source":null,"name":null,"original":null,"generated":{"line":224,"column":46}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":188,"column":38},"generated":{"line":224,"column":48}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":189,"column":4},"generated":{"line":225,"column":0}},{"source":"../src/TransportU2F.js","name":"scrambleKey","original":{"line":189,"column":9},"generated":{"line":225,"column":11}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":189,"column":4},"generated":{"line":225,"column":22}},{"source":"../src/TransportU2F.js","name":"Buffer","original":{"line":189,"column":23},"generated":{"line":225,"column":25}},{"source":"../src/TransportU2F.js","name":"from","original":{"line":189,"column":30},"generated":{"line":225,"column":32}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":189,"column":23},"generated":{"line":225,"column":36}},{"source":"../src/TransportU2F.js","name":"scrambleKey","original":{"line":189,"column":35},"generated":{"line":225,"column":37}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":189,"column":23},"generated":{"line":225,"column":48}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":189,"column":48},"generated":{"line":225,"column":50}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":189,"column":23},"generated":{"line":225,"column":57}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":189,"column":4},"generated":{"line":225,"column":58}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":190,"column":3},"generated":{"line":226,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":192,"column":25},"generated":{"line":229,"column":28}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":193,"column":4},"generated":{"line":230,"column":0}},{"source":"../src/TransportU2F.js","name":"i","original":{"line":193,"column":10},"generated":{"line":230,"column":10}},{"source":"../src/TransportU2F.js","name":"transportInstances","original":{"line":193,"column":14},"generated":{"line":230,"column":14}},{"source":"../src/TransportU2F.js","name":"indexOf","original":{"line":193,"column":33},"generated":{"line":230,"column":33}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":193,"column":14},"generated":{"line":230,"column":40}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":193,"column":41},"generated":{"line":230,"column":41}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":193,"column":14},"generated":{"line":230,"column":45}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":193,"column":4},"generated":{"line":230,"column":46}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":194,"column":4},"generated":{"line":231,"column":0}},{"source":"../src/TransportU2F.js","name":"i","original":{"line":194,"column":8},"generated":{"line":231,"column":10}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":194,"column":14},"generated":{"line":231,"column":16}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":194,"column":15},"generated":{"line":231,"column":17}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":194,"column":4},"generated":{"line":231,"column":18}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":194,"column":18},"generated":{"line":231,"column":20}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":195,"column":6},"generated":{"line":232,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":195,"column":12},"generated":{"line":232,"column":14}},{"source":"../src/TransportU2F.js","name":"Error","original":{"line":195,"column":16},"generated":{"line":232,"column":18}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":195,"column":12},"generated":{"line":232,"column":23}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":195,"column":22},"generated":{"line":232,"column":24}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":195,"column":12},"generated":{"line":232,"column":52}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":195,"column":6},"generated":{"line":232,"column":53}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":196,"column":5},"generated":{"line":233,"column":0}},{"source":"../src/TransportU2F.js","name":"transportInstances","original":{"line":197,"column":4},"generated":{"line":234,"column":0}},{"source":"../src/TransportU2F.js","name":"splice","original":{"line":197,"column":23},"generated":{"line":234,"column":25}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":197,"column":4},"generated":{"line":234,"column":31}},{"source":"../src/TransportU2F.js","name":"i","original":{"line":197,"column":30},"generated":{"line":234,"column":32}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":197,"column":4},"generated":{"line":234,"column":33}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":197,"column":33},"generated":{"line":234,"column":35}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":197,"column":4},"generated":{"line":234,"column":36}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":198,"column":4},"generated":{"line":235,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":198,"column":11},"generated":{"line":235,"column":13}},{"source":"../src/TransportU2F.js","name":"resolve","original":{"line":198,"column":19},"generated":{"line":235,"column":31}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":198,"column":11},"generated":{"line":235,"column":38}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":198,"column":4},"generated":{"line":235,"column":40}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":199,"column":3},"generated":{"line":236,"column":0}},{"source":"../src/TransportU2F.js","name":"TransportU2F","original":{"line":86,"column":21},"generated":{"line":241,"column":0}},{"source":null,"name":null,"original":null,"generated":{"line":241,"column":12}},{"source":"../src/TransportU2F.js","name":"isSupported","original":{"line":87,"column":9},"generated":{"line":241,"column":13}},{"source":null,"name":null,"original":null,"generated":{"line":241,"column":24}},{"source":"../src/TransportU2F.js","name":"TransportU2F","original":{"line":86,"column":21},"generated":{"line":243,"column":0}},{"source":null,"name":null,"original":null,"generated":{"line":243,"column":12}},{"source":"../src/TransportU2F.js","name":"list","original":{"line":90,"column":9},"generated":{"line":243,"column":13}},{"source":null,"name":null,"original":null,"generated":{"line":243,"column":17}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":90,"column":16},"generated":{"line":243,"column":20}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":90,"column":16},"generated":{"line":244,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":4},"generated":{"line":244,"column":9}},{"source":"../src/TransportU2F.js","name":"then","original":{"line":91,"column":18},"generated":{"line":244,"column":36}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":4},"generated":{"line":244,"column":40}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":23},"generated":{"line":244,"column":41}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":23},"generated":{"line":245,"column":0}},{"source":"../src/TransportU2F.js","name":"supported","original":{"line":91,"column":37},"generated":{"line":245,"column":11}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":49},"generated":{"line":245,"column":23}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":50},"generated":{"line":245,"column":24}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":49},"generated":{"line":245,"column":28}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":37},"generated":{"line":245,"column":29}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":58},"generated":{"line":245,"column":32}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":23},"generated":{"line":245,"column":34}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":23},"generated":{"line":246,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":91,"column":4},"generated":{"line":246,"column":3}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":90,"column":16},"generated":{"line":246,"column":4}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":90,"column":16},"generated":{"line":247,"column":0}},{"source":null,"name":null,"original":null,"generated":{"line":247,"column":1}},{"source":"../src/TransportU2F.js","name":"TransportU2F","original":{"line":86,"column":21},"generated":{"line":249,"column":0}},{"source":null,"name":null,"original":null,"generated":{"line":249,"column":12}},{"source":"../src/TransportU2F.js","name":"listen","original":{"line":93,"column":9},"generated":{"line":249,"column":13}},{"source":null,"name":null,"original":null,"generated":{"line":249,"column":19}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":93,"column":18},"generated":{"line":249,"column":22}},{"source":"../src/TransportU2F.js","name":"observer","original":{"line":93,"column":19},"generated":{"line":249,"column":32}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":93,"column":18},"generated":{"line":249,"column":40}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":93,"column":35},"generated":{"line":249,"column":42}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":94,"column":4},"generated":{"line":250,"column":0}},{"source":"../src/TransportU2F.js","name":"unsubscribed","original":{"line":94,"column":8},"generated":{"line":250,"column":6}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":94,"column":23},"generated":{"line":250,"column":21}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":94,"column":4},"generated":{"line":250,"column":26}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":95,"column":4},"generated":{"line":251,"column":0}},{"source":"../src/TransportU2F.js","name":"then","original":{"line":95,"column":18},"generated":{"line":251,"column":29}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":95,"column":4},"generated":{"line":251,"column":33}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":95,"column":23},"generated":{"line":251,"column":34}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":95,"column":36},"generated":{"line":251,"column":55}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":96,"column":6},"generated":{"line":252,"column":0}},{"source":"../src/TransportU2F.js","name":"unsubscribed","original":{"line":96,"column":10},"generated":{"line":252,"column":8}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":96,"column":6},"generated":{"line":252,"column":20}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":96,"column":24},"generated":{"line":252,"column":22}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":97,"column":6},"generated":{"line":253,"column":0}},{"source":"../src/TransportU2F.js","name":"supported","original":{"line":97,"column":10},"generated":{"line":253,"column":8}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":97,"column":6},"generated":{"line":253,"column":17}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":97,"column":21},"generated":{"line":253,"column":19}},{"source":"../src/TransportU2F.js","name":"observer","original":{"line":98,"column":8},"generated":{"line":254,"column":0}},{"source":"../src/TransportU2F.js","name":"next","original":{"line":98,"column":17},"generated":{"line":254,"column":15}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":98,"column":8},"generated":{"line":254,"column":19}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":98,"column":22},"generated":{"line":254,"column":20}},{"source":"../src/TransportU2F.js","name":"type","original":{"line":98,"column":24},"generated":{"line":254,"column":22}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":98,"column":30},"generated":{"line":254,"column":28}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":98,"column":22},"generated":{"line":254,"column":33}},{"source":"../src/TransportU2F.js","name":"descriptor","original":{"line":98,"column":37},"generated":{"line":254,"column":35}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":98,"column":49},"generated":{"line":254,"column":47}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":98,"column":22},"generated":{"line":254,"column":51}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":98,"column":8},"generated":{"line":254,"column":53}},{"source":"../src/TransportU2F.js","name":"observer","original":{"line":99,"column":8},"generated":{"line":255,"column":0}},{"source":"../src/TransportU2F.js","name":"complete","original":{"line":99,"column":17},"generated":{"line":255,"column":15}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":99,"column":8},"generated":{"line":255,"column":23}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":100,"column":7},"generated":{"line":256,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":97,"column":6},"generated":{"line":256,"column":5}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":100,"column":13},"generated":{"line":256,"column":11}},{"source":"../src/TransportU2F.js","name":"observer","original":{"line":101,"column":8},"generated":{"line":257,"column":0}},{"source":"../src/TransportU2F.js","name":"error","original":{"line":101,"column":17},"generated":{"line":257,"column":15}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":101,"column":8},"generated":{"line":257,"column":20}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":102,"column":10},"generated":{"line":257,"column":21}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":103,"column":12},"generated":{"line":257,"column":53}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":104,"column":14},"generated":{"line":257,"column":100}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":103,"column":12},"generated":{"line":257,"column":160}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":105,"column":14},"generated":{"line":257,"column":163}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":102,"column":10},"generated":{"line":257,"column":209}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":106,"column":12},"generated":{"line":257,"column":211}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":102,"column":10},"generated":{"line":257,"column":228}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":101,"column":8},"generated":{"line":257,"column":229}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":109,"column":7},"generated":{"line":258,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":110,"column":5},"generated":{"line":259,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":95,"column":4},"generated":{"line":259,"column":3}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":111,"column":4},"generated":{"line":260,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":111,"column":11},"generated":{"line":260,"column":9}},{"source":"../src/TransportU2F.js","name":"unsubscribe","original":{"line":112,"column":6},"generated":{"line":261,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":112,"column":19},"generated":{"line":261,"column":17}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":112,"column":25},"generated":{"line":261,"column":40}},{"source":"../src/TransportU2F.js","name":"unsubscribed","original":{"line":113,"column":8},"generated":{"line":262,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":113,"column":23},"generated":{"line":262,"column":21}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":113,"column":8},"generated":{"line":262,"column":25}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":114,"column":7},"generated":{"line":263,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":111,"column":11},"generated":{"line":264,"column":0}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":111,"column":4},"generated":{"line":264,"column":3}},{"source":"../src/TransportU2F.js","name":null,"original":{"line":116,"column":3},"generated":{"line":265,"column":0}},{"source":null,"name":null,"original":null,"generated":{"line":265,"column":1}},{"source":"../src/TransportU2F.js","name":"TransportU2F","original":{"line":86,"column":21},"generated":{"line":267,"column":18}},{"source":null,"name":null,"original":null,"generated":{"line":267,"column":30}}],"sources":{"../src/TransportU2F.js":"//@flow\n\nimport { sign, isSupported } from \"u2f-api\";\nimport Transport, { TransportError } from \"@ledgerhq/hw-transport\";\n\nfunction wrapU2FTransportError(originalError, message, id) {\n  const err = new TransportError(message, id);\n  // $FlowFixMe\n  err.originalError = originalError;\n  return err;\n}\n\nfunction wrapApdu(apdu: Buffer, key: Buffer) {\n  const result = Buffer.alloc(apdu.length);\n  for (let i = 0; i < apdu.length; i++) {\n    result[i] = apdu[i] ^ key[i % key.length];\n  }\n  return result;\n}\n\n// Convert from normal to web-safe, strip trailing \"=\"s\nconst webSafe64 = (base64: string) =>\n  base64\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\")\n    .replace(/=+$/, \"\");\n\n// Convert from web-safe to normal, add trailing \"=\"s\nconst normal64 = (base64: string) =>\n  base64.replace(/-/g, \"+\").replace(/_/g, \"/\") +\n  \"==\".substring(0, (3 * base64.length) % 4);\n\nfunction attemptExchange(\n  apdu: Buffer,\n  timeoutMillis: number,\n  debug: *,\n  scrambleKey: Buffer\n): Promise<Buffer> {\n  const keyHandle = wrapApdu(apdu, scrambleKey);\n  const challenge = Buffer.from(\n    \"0000000000000000000000000000000000000000000000000000000000000000\",\n    \"hex\"\n  );\n  const signRequest = {\n    version: \"U2F_V2\",\n    keyHandle: webSafe64(keyHandle.toString(\"base64\")),\n    challenge: webSafe64(challenge.toString(\"base64\")),\n    appId: location.origin\n  };\n  if (debug) {\n    debug(\"=> \" + apdu.toString(\"hex\"));\n  }\n  return sign(signRequest, timeoutMillis / 1000).then(response => {\n    const { signatureData } = response;\n    if (typeof signatureData === \"string\") {\n      const data = Buffer.from(normal64(signatureData), \"base64\");\n      const result = data.slice(5);\n      if (debug) {\n        debug(\"<= \" + result.toString(\"hex\"));\n      }\n      return result;\n    } else {\n      throw response;\n    }\n  });\n}\n\nlet transportInstances = [];\n\nfunction emitDisconnect() {\n  transportInstances.forEach(t => t.emit(\"disconnect\"));\n  transportInstances = [];\n}\n\nfunction isTimeoutU2FError(u2fError) {\n  return u2fError.metaData.code === 5;\n}\n\n/**\n * U2F web Transport implementation\n * @example\n * import TransportU2F from \"@ledgerhq/hw-transport-u2f\";\n * ...\n * TransportU2F.create().then(transport => ...)\n */\nexport default class TransportU2F extends Transport<null> {\n  static isSupported = isSupported;\n\n  // this transport is not discoverable but we are going to guess if it is here with isSupported()\n  static list = (): * =>\n    isSupported().then(supported => (supported ? [null] : []));\n\n  static listen = (observer: *) => {\n    let unsubscribed = false;\n    isSupported().then(supported => {\n      if (unsubscribed) return;\n      if (supported) {\n        observer.next({ type: \"add\", descriptor: null });\n        observer.complete();\n      } else {\n        observer.error(\n          new TransportError(\n            \"U2F browser support is needed for Ledger. \" +\n              \"Please use Chrome, Opera or Firefox with a U2F extension. \" +\n              \"Also make sure you're on an HTTPS connection\",\n            \"U2FNotSupported\"\n          )\n        );\n      }\n    });\n    return {\n      unsubscribe: () => {\n        unsubscribed = true;\n      }\n    };\n  };\n\n  scrambleKey: Buffer;\n\n  /**\n   * static function to create a new Transport from a connected Ledger device discoverable via U2F (browser support)\n   */\n  static async open(_: *, _openTimeout?: number = 5000): Promise<TransportU2F> {\n    /*try {\n      // This is not a valid exchange at all, but this allows to have a way to know if there is a device.\n      // in case it reaches the timeout, we will throw timeout error, in other case, we will return the U2FTransport.\n      await attemptExchange(\n        Buffer.alloc(0),\n        openTimeout,\n        false,\n        Buffer.alloc(1)\n      );\n    } catch (e) {\n      const isU2FError = typeof e.metaData === \"object\";\n      if (isU2FError) {\n        if (isTimeoutU2FError(e)) {\n          emitDisconnect();\n          throw wrapU2FTransportError(\n            e,\n            \"Ledger device unreachable.\\n\" +\n              \"Make sure the device is plugged, unlocked and with the correct application opened.\" +\n              (location && location.protocol !== \"https:\"\n                ? \"\\nYou are not running on HTTPS. U2F is likely to not work in unsecure protocol.\"\n                : \"\"),\n            \"Timeout\"\n          );\n        } else {\n          // we don't throw if it's another u2f error\n        }\n      } else {\n        throw e;\n      }\n    }*/\n    return new TransportU2F();\n  }\n\n  constructor() {\n    super();\n    transportInstances.push(this);\n  }\n\n  async exchange(apdu: Buffer): Promise<Buffer> {\n    try {\n      return await attemptExchange(\n        apdu,\n        this.exchangeTimeout,\n        this.debug,\n        this.scrambleKey\n      );\n    } catch (e) {\n      const isU2FError = typeof e.metaData === \"object\";\n      if (isU2FError) {\n        if (isTimeoutU2FError(e)) {\n          emitDisconnect();\n        }\n        // the wrapping make error more usable and \"printable\" to the end user.\n        throw wrapU2FTransportError(\n          e,\n          \"Failed to sign with Ledger device: U2F \" + e.metaData.type,\n          \"U2F_\" + e.metaData.code\n        );\n      } else {\n        throw e;\n      }\n    }\n  }\n\n  setScrambleKey(scrambleKey: string) {\n    this.scrambleKey = Buffer.from(scrambleKey, \"ascii\");\n  }\n\n  close(): Promise<void> {\n    const i = transportInstances.indexOf(this);\n    if (i === -1) {\n      throw new Error(\"invalid transport instance\");\n    }\n    transportInstances.splice(i, 1);\n    return Promise.resolve();\n  }\n}\n",".":null},"lineCount":null}},"error":null,"hash":"2083907d5ae99f0ffbd03ad315aaecc0","cacheData":{"env":{}}}